<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title th:text="${pageTitle}">Электрик - профессиональные услуги</title>
    <link rel="stylesheet" href="../static/css/home.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
<header>
    <div class="container">
        <div class="header-content">
            <h1><i class="fas fa-bolt"></i>Профессиональный электрик</h1>
            <div class="contact-header">
                <div class="phone">
                    <i class="fas fa-phone"></i>
                    <!-- ИЗМЕНИТЬ НОМЕР ТЕЛЕФОНА ЕСЛИ НЕОБХОДИМО -->
                    <span><a href="tel:+79506219757">+7 (950) 621-97-57 — Иван</a></span>

<!--                    Если нужно создать ошибку 500-->
<!--                    <span th:href="tel: ${contactInfo.phone}" th:text="y54trth"> text </span>-->
                </div>
                <div class="hours">
                    <i class="fas fa-clock"></i>
                    <span th:text="${contactInfo.workingHours}">Ср-Вс: 08:00-17:00</span>
                </div>

                <!-- КНОПКА ОТЗЫВОВ (ДОБАВЛЕНА ПЕРЕД КНОПКОЙ ВХОДА) -->
                <a href="/reviews" class="admin-btn reviews-btn">
                    <i class="fas fa-comments"></i> Отзывы
                </a>

                <div class="user-menu-container" th:if="${session.user != null}">
                    <div class="user-dropdown">
                        <button class="user-menu-btn">
                            <i class="fas fa-user-circle"></i>
                            <span th:text="${session.user.username}"></span>
                            <i class="fas fa-chevron-down"></i>
                        </button>
                        <div class="user-dropdown-content">
                            <a th:href="@{/profile}">
                                <i class="fas fa-user"></i> Мой профиль
                            </a>
                            <a th:if="${session.user.role == 'ADMIN'}" th:href="@{/admin}">
                                <i class="fas fa-cogs"></i> Админ панель
                            </a>
                            <div class="dropdown-divider"></div>
                            <a th:href="@{/logout}">
                                <i class="fas fa-sign-out-alt"></i> Выйти
                            </a>
                        </div>
                    </div>
                </div>
                <a th:if="${session.user == null}" href="/login" class="admin-btn">
                    <i class="fas fa-sign-in-alt"></i> Войти
                </a>
            </div>
        </div>
    </div>
</header>

<main class="container">
    <section class="hero">
        <h2>Надежные электромонтажные работы любой сложности</h2>
        <p>Качественные услуги электрика с гарантией. Работаем быстро, аккуратно и по доступным ценам.</p>
        <div class="social-links">
<!--            <a href="https://vk.com/" class="social-btn vk" target="_blank">-->
<!--                <i class="fab fa-vk"></i> ВКонтакте-->
<!--            </a>-->
            <a href="https://t.me/master_electric52" class="social-btn telegram" target="_blank">
                <i class="fab fa-telegram"></i> Telegram
            </a>
            <a href="https://wa.me/79506219757" class="social-btn whatsapp" target="_blank">
                <i class="fab fa-whatsapp"></i> WhatsApp
            </a>
        </div>
    </section>

    <section class="services">
        <h2><i class="fas fa-bolt"></i> Наши услуги и цены</h2>

        <div class="popular-services" th:if="${not #lists.isEmpty(popularServices)}">
            <h3>Популярные услуги:</h3>
            <div class="services-grid">
                <div class="service-card" th:each="service : ${popularServices}">
                    <h3 th:text="${service.title}">Услуга</h3>
                    <p th:text="${service.description}">Описание услуги</p>
                    <div class="price">
                        <strong th:text="${service.price} + ' ₽'">1000 ₽</strong>
                        <span th:text="${service.priceUnit}">за точку</span>
                    </div>
                    <span class="popular-badge">Популярно</span>
                </div>
            </div>
        </div>

        <div class="all-services">
            <h3>Полный прайс-лист:</h3>
            <table>
                <thead>
                <tr>
                    <th>Услуга</th>
                    <th>Описание</th>
                    <th>Цена</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="service : ${services}">
                    <td th:text="${service.title}">розетка</td>
                    <td th:text="${service.description}">круглая</td>
                    <td>
                        <span th:text="${service.price} + ' ₽'">1000 ₽</span>
                        <small th:text="${service.priceUnit}">за штуку</small>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </section>

    <section class="works">
        <h2><i class="fas fa-tools"></i>Крупные работы</h2>
        <div class="works-grid">
            <div class="work-card" th:each="work : ${works}">
                <img th:src="${work.imageUrl}" alt="Работа" class="work-image">
                <div class="work-content">
                    <h3 th:text="${work.title}">Название работы</h3>
                    <div class="work-date" th:text="${work.formattedDate}">15.03.2025</div>
                    <p class="work-description" th:text="${work.description}">Описание работы</p>
                    <div class="work-price" th:text="${#numbers.formatDecimal(work.price, 0, 'DEFAULT', 0, 'DEFAULT') + ' ₽'}">25 000 ₽</div>
                </div>
            </div>
        </div>
    </section>

    <section class="contact-info">
        <h2><i class="fas fa-address-card"></i> Контактная информация</h2>
        <div class="contact-details">
            <div class="contact-item">
                <i class="fas fa-map-marker-alt"></i>
                <span th:text="${contactInfo.address}">г. Нижний Новгород</span>
            </div>
            <div class="contact-item">
                <i class="fas fa-phone"></i>
                <span th:text="${contactInfo.phone}">+7 (950) 621-97-57</span>
            </div>
            <div class="contact-item">
                <i class="fas fa-envelope"></i>
                <span th:text="${contactInfo.email}">electrician@example.com</span>
            </div>
            <div class="contact-item">
                <i class="fas fa-clock"></i>
                <span th:text="${contactInfo.workingHours}">Пн-Пт: 00:00-00:00</span>
            </div>
        </div>
    </section>
</main>

<footer>
    <p>&copy; <span th:text="${#dates.year(#dates.createNow())}">2022</span> Профессиональный электрик. Все права защищены.</p>
</footer>
</body>
</html>